{"ast":null,"code":"import _slicedToArray from\"C:/Users/georg/OneDrive/\\u0414\\u043E\\u043A\\u0443\\u043C\\u0435\\u043D\\u0442\\u044B/prog/QuickPost.v2/QuickPost/quickpost/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import'../main/App.css';import ToHome from'../toHome/toHome.js';// import ToArhiv from '../toArhiv/toArhiv.js';\n//import ToTest from '../toTest/toTest.js'\nimport ToLk from'../toLk/toLk.js';import{Router,Routes,Route,Link}from'react-router-dom';import Home from'../home/home.js';//import Arhiv from '../arhiv/arhiv.js';\nimport Lk from'../lk/lk.js';import Auth from'../auth/auth.js';import Reg from'../reg/reg.js';//import Test from '../test/test.js';\nimport ToAuth from'../toLk/toAuth.js';import ToAuthHome from'../toLk/toAuthHome.js';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var date=require('../config.json');var HOST=date['HOST'];var PORT=date['PORT'];var URL='http://'+HOST+':'+PORT;function get_cooks(){var cookies=document.cookie;if(cookies===''){cookies='user= ;passw= ';}cookies=cookies.split(';');console.log(cookies);var CookiesArr={};for(var i=0;i<cookies.length;i++){var cookie=cookies[i];var cookieParts=cookie.split(\"=\");var cookieName=cookieParts[0].trim();var cookieValue=cookieParts[1].trim();CookiesArr[cookieName]=cookieValue;}return CookiesArr;}function App(){var _useState=useState({linker:null}),_useState2=_slicedToArray(_useState,2),page=_useState2[0],setPage=_useState2[1];var _useState3=useState({linker1:null}),_useState4=_slicedToArray(_useState3,2),page1=_useState4[0],setPage1=_useState4[1];function onl(){var allCookies=get_cooks();fetch(URL+'/auth',{method:'POST',body:JSON.stringify({mail:allCookies['user'],passw:allCookies['passw']})}).then(function(response){console.log(\"Success\");return response.json().then(function(data){return data[\"ok\"];});}).then(function(data){console.log(data);if(data&&(page.linker==/*#__PURE__*/_jsx(ToAuth,{})||page.linker==null)){console.log('LOADED LK PAGE');// window.location.assign('/lk ')\nsetPage({linker:/*#__PURE__*/_jsx(ToLk,{})});setPage1({linker1:/*#__PURE__*/_jsx(ToHome,{})});}if(!data&&(page.linker==/*#__PURE__*/_jsx(ToLk,{})||page.linker==null)){console.log('LOADED AUTH PAGE');// window.location.assign('/auth')\nsetPage({linker:/*#__PURE__*/_jsx(ToAuth,{})});setPage1({linker1:/*#__PURE__*/_jsx(ToAuthHome,{})});}});}onl();return/*#__PURE__*/_jsxs(\"div\",{className:\"main\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"board\",children:[page1.linker1,page.linker]}),/*#__PURE__*/_jsx(\"div\",{className:\"content\",children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(Home,{})}),/*#__PURE__*/_jsx(Route,{path:\"/auth\",element:/*#__PURE__*/_jsx(Auth,{})}),/*#__PURE__*/_jsx(Route,{path:\"/reg\",element:/*#__PURE__*/_jsx(Reg,{})}),/*#__PURE__*/_jsx(Route,{path:\"/lk\",element:/*#__PURE__*/_jsx(Lk,{})})]})})]});}export default App;","map":{"version":3,"names":["React","useState","ToHome","ToLk","Router","Routes","Route","Link","Home","Lk","Auth","Reg","ToAuth","ToAuthHome","jsx","_jsx","jsxs","_jsxs","date","require","HOST","PORT","URL","get_cooks","cookies","document","cookie","split","console","log","CookiesArr","i","length","cookieParts","cookieName","trim","cookieValue","App","_useState","linker","_useState2","_slicedToArray","page","setPage","_useState3","linker1","_useState4","page1","setPage1","onl","allCookies","fetch","method","body","JSON","stringify","mail","passw","then","response","json","data","className","children","path","element"],"sources":["C:/Users/georg/OneDrive/Документы/prog/QuickPost.v2/QuickPost/quickpost/src/main/App.js"],"sourcesContent":["import React, { useState } from 'react';\nimport '../main/App.css';\nimport ToHome from '../toHome/toHome.js';\n// import ToArhiv from '../toArhiv/toArhiv.js';\n//import ToTest from '../toTest/toTest.js'\nimport ToLk from '../toLk/toLk.js';\nimport { Router, Routes, Route, Link } from 'react-router-dom';\nimport Home from '../home/home.js';\n//import Arhiv from '../arhiv/arhiv.js';\nimport Lk from '../lk/lk.js';\nimport Auth from '../auth/auth.js';\nimport Reg from '../reg/reg.js';\n//import Test from '../test/test.js';\nimport ToAuth from '../toLk/toAuth.js';\nimport ToAuthHome from '../toLk/toAuthHome.js';\n\nconst date = require('../config.json')\nconst HOST = date['HOST']\nconst PORT = date['PORT']\nconst URL = 'http://' + HOST + ':' + PORT\n\nfunction get_cooks() {\n    let cookies = document.cookie;\n    if (cookies === '') {\n        cookies = 'user= ;passw= '\n    }\n    cookies = cookies.split(';')\n    console.log(cookies)\n    let CookiesArr = {}\n    for (let i = 0; i < cookies.length; i++) {\n        let cookie = cookies[i];\n        let cookieParts = cookie.split(\"=\");\n        let cookieName = cookieParts[0].trim();\n        let cookieValue = cookieParts[1].trim();\n        CookiesArr[cookieName] = cookieValue\n    }\n    return CookiesArr\n}\n\nfunction App(){\n    const [page, setPage] = useState({\n        linker: null\n    })\n    const [page1, setPage1] = useState({\n        linker1: null\n    })\n\n    function onl (){\n        const allCookies = get_cooks()\n        fetch(URL + '/auth', {\n            method: 'POST',\n            body: JSON.stringify({\n                mail: allCookies['user'],\n                passw: allCookies['passw']\n            })\n        })\n    .then(response => {\n        console.log(\"Success\");\n        return response.json().then(data => {\n            return data[\"ok\"]\n        })\n    }).then(data => {\n        console.log(data)\n        if (data && (page.linker == <ToAuth/> || page.linker == null)){\n            console.log('LOADED LK PAGE')\n            // window.location.assign('/lk ')\n            setPage({\n                linker: <ToLk/>\n            })\n            setPage1({\n                linker1: <ToHome/>\n            })\n        }\n        if (!data && (page.linker == <ToLk/> || page.linker == null)){\n            console.log('LOADED AUTH PAGE')\n            // window.location.assign('/auth')\n            setPage({\n                linker: <ToAuth/>\n            })\n            setPage1({\n                linker1: <ToAuthHome/>\n            })\n        }\n    })\n    }\n    onl()\n\n    return (\n        <div className = 'main'>\n            <div className = 'board'>\n                {page1.linker1}\n                {page.linker}\n            </div>\n            <div className = 'content'>\n                <Routes>\n                    <Route path = \"/\" element = {<Home/>} />\n                    <Route path = \"/auth\" element = {<Auth/>} />\n                    <Route path = \"/reg\" element = {<Reg/>} />\n                    <Route path = \"/lk\" element = {<Lk/>} />\n                </Routes>\n            </div>\n        </div>\n    );\n}\n\nexport default App;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}